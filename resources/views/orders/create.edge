@include('partials/head')

<body>

    <h1>Create Order</h1>
    <div>
        <div class="d-flex">
            <img src="/storage/uploads/{{order.imageUrl}}" alt="" width="32" height="32"
                class="rounded-circle flex-shrink-0">
            <div class="d-flex gap-2 w-100 justify-content-between">
                <div>
                    <h6 class="mb-0">{{order.itemName}}</h6>
                    <p class="mb-0 opacity-75">{{order.description}}</p>
                </div>
                <small class="opacity-50 text-nowrap">Hind: {{order.price}}â‚¬</small>
            </div>
        </div>
        <div class="w-auto h-auto">
            </p>
            <ul>
                <li class="d-flex gap-2">
                    <div>Categories:</div>
                    @each(category in order.categories)
                    <p class="badge rounded-pill bg-secondary me-1">{{category.name}}
                    </p>
                    @endeach
                </li>
                <li>Id: {{order.id}}</li>
                <li>slug: {{order.slug}}</li>
                <li>itemName: {{order.itemName}}</li>
                <li>imageUrl: {{order.imageUrl}}</li>
                <li>price: {{order.price}}</li>
                <li>description: {{order.description}}</li>
            </ul>
        </div>
    </div>

    <!-- FORM -->
    <div class="mx-auto p-2" style="width:75%">
        <form method="POST" action="{{route('orders.store')}}" class="form-floating">
            {{ csrfField() }}
            <input type="hidden" name="product_type" id="productType" value="{{productType}}">
            <input type="hidden">
            <input type="hidden" name="product_slug" id="productSlug" value="{{order.slug}}">
            <input type="hidden" name="status" id="status" value="pending">
            <div class="input-group">
                <div class="form-floating mb-3">
                    @if(!flashMessages.has('inputErrorsBag.customer_first_name'))
                    <input type="text" aria-label="First name" id="customer_first_name" name="customer_first_name"
                        class="form-control invalid" placeholder="Eesnimi">
                    <label for="customer_first_name">Eesnimi</label>
                    @end

                    @if(flashMessages.has('inputErrorsBag.customer_first_name'))
                    <input type="text" aria-label="First name" id="customer_first_name" name="customer_first_name"
                        class="form-control is-invalid" placeholder="Eesnimi">
                    <label for="customer_first_name">Invalid</label>
                    @each(error in flashMessages.get('inputErrorsBag.customer_first_name'))
                    <p>{{error}}</p>
                    @endeach
                    @end
                </div>

                <div class="form-floating mb-3">
                    @if(!flashMessages.has('inputErrorsBag.customer_last_name'))
                    <input type="text" aria-label="Last name" id="customer_last_name" name="customer_last_name"
                        class="form-control invalid" placeholder="Perekonna nimi">
                    <label for="customer_last_name">Perekonna nimi</label>
                    @end

                    @if(flashMessages.has('inputErrorsBag.customer_last_name'))
                    <input type="text" aria-label="Last name" id="customer_last_name" name="customer_last_name"
                        class="form-control is-invalid" placeholder="Perekonna nimi">
                    <label for="customer_last_name">Invalid</label>
                    @each(error in flashMessages.get('inputErrorsBag.customer_last_name'))
                    <p>{{error}}</p>
                    @endeach
                    @end
                </div>
            </div>
            <div class="form-floating mb-3">
                @if(flashMessages.has('inputErrorsBag.customer_email'))
                <input type="email" class="form-control is-invalid" id="customer_email" name="customer_email"
                    placeholder="name@example.com" value="test@example.com">
                <label for="customer_email">Invalid input</label>
                @each(error in flashMessages.get('inputErrorsBag.customer_email'))
                <p>{{error}}</p>
                @endeach
                @end
                @if(!flashMessages.has('inputErrorsBag.customer_email'))
                <input type="email" class="form-control" id="customer_email" name="customer_email"
                    placeholder="name@example.com">
                <label for="customer_email">Email</label>
                @end
            </div>
            <button type="submit">Place Order</button>
            @if(flashMessages.has('inputErrorsBag'))
                @each(error in flashMessages.get('inputErrorsBag'))
                <p>{{error}}</p>
                @endeach
            @end


        </form>
    </div>




</body>